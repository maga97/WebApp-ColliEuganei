\documentclass[openany, a4paper, 12pt]{report}
\usepackage[utf8]{inputenc}
\usepackage{color}
\usepackage{hyperref}
\usepackage[italian]{babel} 
\usepackage{graphicx}
\usepackage{float}
\usepackage{listings ,xcolor}
\usepackage{inconsolata}

\hypersetup {
	linkcolor = {black},
	urlcolor = {blue},
	menucolor = {black},
	colorlinks = true,
}
\definecolor{dkgreen}{rgb}{0,.6,0}
\definecolor{dkblue}{rgb}{0,0,.6}
\definecolor{dkyellow}{cmyk}{0,0,.8,.3}

\lstset{
  language        = php,
  basicstyle      = \small\ttfamily,
  keywordstyle    = \color{dkblue},
  stringstyle     = \color{red},
  identifierstyle = \color{dkgreen},
  commentstyle    = \color{gray},
  emph            =[1]{php},
  emphstyle       =[1]\color{black},
  emph            =[2]{if,and,or,else},
  showstringspaces=false
  emphstyle       =[2]\color{dkyellow}}
\begin{document}

	\begin{titlepage}
		\centering
		\vfill
		{
			\bfseries
			\vskip2cm
			\Large Università di Padova\\
			\vfill
			\Huge ColliDigitali\\
			\Large Progetto per il corso di tecnologie web\\
			\vfill

			\begin{figure}[H]
				\centering
				\includegraphics[width=0.6\linewidth]{images/LogoPadova}
			\end{figure}
			\large GiulioPiva - 1146135 \\ Magarotto Francesco - 1143292 \\ Zilio Davide-1149807  \\
			Costantino Marco - 1144120
			\vfill
			Sito web hostato all'indirizzo: \url{http://tecweb1819.studenti.math.unipd.it/gpiva}\\
			{\small Credenziali per l'amministrazione:\\username: admin@admin.it, password: admin\\}
			\vfill
			Indirizzo email del referente: francesco.magarotto@studenti.unipd.it\\
			\vfill
		}
	\end{titlepage}
	\pagenumbering{roman}
	\tableofcontents
	\newpage
	\pagenumbering{arabic}

	% Il progetto deve essere accompagnato da una relazione che ne illustri le fasi di progettazione, realizzazione e test ed evidenzi chiaramente il ruolo svolto dai singoli componenti del gruppo. Ricordo che il numero “ideale” di componenti per gruppo è di 3-4 persone. In casi particolari (da concordare col responsabile del corso, Prof. Lamberto Ballan) possono essere costituiti gruppi di 2 persone.

	% Nella relazione deve essere riportata una analisi iniziale delle caratteristiche degli utenti che il sito si propone di raggiungere. Le pagine web devono essere accessibili indipendentemente dal browser e dalle dimensioni dello schermo del dispositivo degli utenti. Considerazioni riguardanti diversi dispositivi (laddove possibile) verranno valutate positivamente.

	% La relazione deve contenere in prima pagina:
	%indirizzo web del sito;
	%eventuali password degli utenti da utilizzare in fase di correzione (una coppia login-password per ogni classe di utenza), in particolare:
	%l'utente amministratore, se presente, deve avere login e password uguali ad admin;
	%l'utente semplice, se presente, deve avere login e password uguali ad user;
	%indirizzo email del referente del gruppo per eventuali comunicazioni;
	%i file PHP devono avere i permessi corretti;
	%il sito deve utilizzare link relativi in modo da poter essere facilmente installato anche su server o cartelle diverse (se l'installazione necessita di operazioni particolari queste devono essere indicate chiaramente in relazione).

	\chapter{Abstract}
	Il sito Colli Euganei è un sito informativo nato per facilitare la formazione della popolazione locale al fine di approfondire sul clima, la geografia e la storia dei colli. I monumenti d'interesse storico caratteristici della zona sono molto apprezzati da coloro che provengono dai paesi limitrofi per visitarli, il sito si propone di fornire un sistema di prenotazione automatica al fine di aiutare il Parco Colli a gestire delle visite e gite organizzate, che a sua volta si coordinerà con i gestori dei vari enti per la effettiva organizzazione delle gite. Il sito pertanto si propone come piattaforma di riferimento per le varie attività turistiche.


	\chapter{Progettazione}

	\section{Analisi della classe di utenza}
	\subsection{Descrizione della sezione}
	Questa sezione si pone come obiettivo l'analisi di tutte le tipologie di utenti che potrebbero essere interessate alla navigazione sul sito web, ponendo particolare attenzione alle informazioni che questi sono interessati a trovare.
	\subsection{Analisi dell'utenza}
	Il sito si rivolge principalmente ad un pubblico adulto o di giovani adulti poiché questo è il target in grado di effettuare prenotazioni per gite e/o visite guidate. La grafica del sito, quindi, cerca di essere minimalista e poiché il sito ha anche funzione informativa, il linguaggio usato è semplice per permetterne
	la fruibilità a chiunque e per andare in contro all'esperienza mobile che è per sua natura più leggera.
	\subsubsection{Utente che cerca informazioni riguardanti i Colli Euganei}
	Seguendo la filosofia dell'informazione accessibile a tutti, il sito è stato pensato per essere intuitivo da navigare e i contenuti sono stati esposti in un linguaggio semplice nei limiti della specificità imposta dai contenuti stessi.
	\subsubsection{Utente che cerca gite organizzate per i Colli Euganei}
	L'intento del sito è quello di fornire una procedura di prenotazione delle gite il quanto più semplice e leggera possibile, in un sistema unificato che permetta agli utenti di presentarsi solamente con la presentazione.

	\chapter{Realizzazione}
	In questa parte del documento si andranno ad approfondire tutti gli aspetti legati alla realizzazione del sito web.

	\section{Scelte tecniche}
	\subsection{XHTML5}
	Come linguaggio di marcatura si è scelto di utilizzare XHTML 5.
	\'E stata scelta questa tecnologia perché prevede un uso più restrittivo dei tag HTML mirato alla separazione tra elementi grafici del sito, specificati tramite fogli di stile esterni, e il layout della pagine. Un'altra ragione per la scelta di XHTML 5 risiede nella sua compatibilità, nella sua diffusione e nella compatibilità con i browser più diffusi.
	Pertanto i documenti creati hanno la dicitura:
	\begin{lstlisting}
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="it" lang="it">
	\end{lstlisting}
	Includendo così i DTD necessari per effettuare la validazione del documento.
	\subsection{CSS}
	I file necessari alla formattazione dello stile del sito e per i vari dispositivi sono collocati nella cartella \texttt{assets/css} mentre le immagini sono collocate nella
	cartella \texttt{assets/img}.
	Il sito utilizza un foglio di stile principale, denominato \texttt{style.css}, che contiene 3 media query:
	 \begin{itemize}
		\item Schermi con massima larghezza 768px: utilizzato per adattare il sito a dispositivi più piccoli, di dimensione di un tablet;
		\item Schermi con massima larghezza 600px: utilizzato per adattare il menu e renderlo adeguato all'utilizzo con telefoni cellulari;
		\item Schermi con massima larghezza 480px: utilizzato per adattare il contenuto del sito a telefoni cellulari con schermi molto piccoli.
	\end{itemize}
	Infine, è stato creato un file \texttt{print.css} utilizzato per la stampa, rimuove tutti i contenuti non necessari e impagina le informazioni per meglio adattarle a un foglio A4.
	 \uppercase{è} stato prevalentemente utilizzato CSS3.0, facendo attenzione a non utilizzare determinate proprietà, come ad esempio i flexbox layout ai fini di garantire la massima retro-compatibilità con i browser vecchi come Internet Explorer 11.
	 Il CSS è stato infine validato con diversi strumenti descritti successivamente che ne hanno confermato la correttezza sintattica.
	 Particolare è stato il risultato dato dal validatore in presenza del valore "handheld" sulla proprietà "screen" del CSS, utilizzato a lezione:
	 \begin{figure}[H]
	 \centering
	 \includegraphics[scale=.4]{images/handheld_error.png} 
	 \end{figure}
	 In relazione a questo fatto, il gruppo ha deciso di utilizzare solo il valore "screen" quando necessario.
	\subsection{JavaScript}
	 I file contenenti gli script sono collocati nella cartella \texttt{js/}. \\
	 Si è scelto di utilizzare JavaScript come componente marginale del sito garantendo, anche se disabilitato, che tutte le funzionalità rimangano accessibili e
	 perfettamente funzionanti. \\
	 \'E stata inoltre utilizzata la libreria esterna \texttt{jQuery} per la conferma di alcune azioni. Abbiamo deciso di utilizzarla per cercare di apprendere nuove tecnologie, con la consapevolezza comunque che si tratta di una libreria pesante e che andrebbe \textbf{evitato} il suo utilizzo per scopi non fondamentali.
	 Tutti i controlli eseguiti sui form eseguiti per validare i dati prima del submit dei dati, sono poi implementati anche in PHP per garantirne lo stesso funzionamento anche con JS disabilitato.
	 \subsection{PHP}
	 \subsubsection{Database}
	 \uppercase{è} stata creata una classe wrapper per la connessione al database, in maniera tale da facilitare la gestione delle query, essendo queste presenti solo all'interno di tale classe, sarà più facile gestire il codice sorgente ed effettuare il debug del codice. Per utilizzarla è necessario creare un oggetto di tale classe che servirà per richiamare le funzioni,  utilizzate solamente per l'interazione con il database e gestire le connessioni. La connessione al database è stata effettuata utilizzando il PDO messo a disposizione nativamente da PHP.
	 \paragraph{Perché i BLOB}
	 Per l'inserimento delle immagini delle gite si è fatto uso dei BLOB, ovvero si è inserita l'immagine all'interno della base di dati. Consapevoli, che solitamente si salva solo il path del file all'interno del database e il file nel file-system del server, abbiamo scelto di utilizzare i BLOB per non incorrere a problematiche con la scrittura e movimento di file all'interno del server ospite dell'università. Infatti, l'utilizzo di XAMPP per lo sviluppo su Windows presenta una cartella \texttt{htdocs} in cui è impossibile caricare i file senza i permessi di amministrazione, quindi per permettere a tutti i componenti di testare il codice scritto e evitare ulteriori problematiche.
	 \subsubsection{Dinamicità}
	 PHP svolge un ruolo fondamentale per il funzionamento del sito, infatti grazie a
	 questo linguaggio lato server abbiamo realizzato un sito dinamico in cui le attività (come ad esempio, le visite guidate) possono essere aggiunte, modificate ed eliminate attraverso il pannello di
	 amministrazione. Le gite disponibili vengono stampate dalla base di dati tramite un \texttt{foreach}.
	 Il gruppo ha creato un file per il menu, in maniera tale da non dover ripeterlo in ogni pagina, tale soluzione permette di ottenere un \textit{single point of failure} in caso di problemi con il menu, oltre che evitare di dover duplicare lo stesso identico codice manualmente su tutte le pagine.
	 \subsection{Sicurezza}
	 Il tema della sicurezza ha avuto un ruolo fondamentale durante la realizzazione del
	 sito, infatti sono state create delle funzioni che permettono di garantire il controllo
	 completo sulle operazioni che vengono richieste al server. Tale accertamento consiste nel
	 verificare quale tipologia di utente ha fatto la richiesta attraverso le informazioni
	 contenute nella sessione; se l’utente non è un amministratore ed esso ha cercato di
	 utilizzare delle funzionalità riservate ad un amministratore, allora il server rigetta la richiesta reindirizzando l'utente alla pagina più appropriata.
	 Le password degli utenti sono state criptate all'interno del database utilizzando le funzioni idonee di MySQL e PHP.
	 \subsection{PDO-SQL Injection}
	 Per la connessione e l'interazione con il database è stato utilizzato PDO poiché permette di gestire con facilità la connessione con diversi DBMS (nel nostro caso abbiamo utilizzato MySQL). Inoltre grazie al meccanismo di preparazione degli
	 statement (prepared statement), i dati inseriti dagli utenti vengono automaticamente sanificati in modo da impedire qualsiasi tipo di SQL Injection, questo permette l'integrità e la sicurezza del database. Utilizzo di metodi standard come
	 PDO ci tutela e ci solleva dall’incombenza della manutenzione correttiva.
	 Ad esempio:
	 \begin{lstlisting}
$sql = 'SELECT Password FROM Utenti WHERE Email = ?';
$query = $this->pdo->prepare($sql);
$query->execute(array($email));
$pass = $query->fetch();
return password_verify($password, $pass[0]);
     \end{lstlisting}
    In questo codice, lo statement SQL viene preparato e successivamente viene eseguito passando la mail sottoposta a sanificazione. Infine, viene eseguito il fetch dei dati e verificata la corrispondenza tra la password fornita dall'utente e quella prelevata dal database.
	 \subsection{Database}
	 Si è deciso di utilizzare MySQL (MariaDB) per la gestione del database contenente
	 i dati del sito. Segue uno schema logico delle tabelle:
	 \begin{figure}[H]
	 	\centering
	 	\includegraphics[width=0.9\linewidth]{images/database}
	 \end{figure}
 	\noindent Il database è privo di trigger per favorire il disaccoppiamento tra il sito e il DBMS.
 	Si è quindi utilizzato PHP per le varie operazioni al fine di apprenderlo al meglio.
 
	\section{Accessibilità}
	Tutte le scelte progettuali sono state prese in base al tema dell’accessibilità, seguendo le linee guida del WCAG 2.0.
	\subsection{Colori}
	Si è evitato di utilizzare combinazioni di colori che potessero creare problemi di
	accessibilità, usabilità e comprensione del contenuto a persone affette da daltonismo.
	Si è fatto uso del plugin WCAG contrast checker e si è riscontrato un valore di almeno "AA" per tutti i colori all'interno del sito.
	\subsection{Breadcrumb}
	In ciascuna pagina è inserita un breadcrumb che permette all’utente di risalire la gerarchia delle pagine visitate per giungere a quella attuale, permettendogli eventualmente di ritornare rapidamente alle pagine precedentemente visitate. Il breadcrumb è stato realizzato utilizzato una unordered list disposta in linea tramite il CSS.
	Quindi gli elementi sono stati disposti inline, privati dello \texttt{list-style-type}  e al loro interno è stato inserito un collegamento ipertestuale
	\subsection{Barra di ricerca}
	Abbiamo deciso di implementare la barra di ricerca soltanto nella pagina \texttt{gite.php}, per permettere agli utenti di ricercare specifiche gite nel minor tempo possibile. Infatti, la funzione è veramente necessaria solo nel caso siano presenti molte gite all'interno del sistema, oltretutto abbiamo riscontrato che molti siti oggi fanno uso della ricerca di Google implementata all'interno del contenuto indicizzato del sito.
	\subsection{Tag}
	Per quanto concerne i tag che migliorano l'accessibilità:
	\begin{itemize}
		\item Sono stati utilizzati i tag \texttt{alt} per le immagini seguendo le linee guida del
		W3C.
		\item  Le parole in lingua inglese sono state racchiuse in un tag \\ \texttt{<span xml:lang="en">contenuto</span>}
		cosi da poter garantire una lettura corretta da parte degli screen reader;
		\item  Sono stati utilizzati i tag \texttt{tabindex} in modo da permettere la navigazione corretta del sito attraverso il tasto TAB. Si è lasciato volontariamente il valore 0 a tali attributi così che venga seguito l'ordine di disposizione dei contenuti della pagina;
		\item \'E stato utilizzato il tag \texttt{role} dove necessario seguendo i dettami del W3C, per fornire un modo per identificare gli elementi in maniera più specifica ove necessario. In particolare, questa soluzione si è rivelata particolarmente utile in quanto, nonostante l'uso di HTML 5 che presenta dei tag specifici, ad esempio \texttt{<nav>} per il menu di navigazione, l'attributo role garantisce l'accessibilità e contemporaneamente la retro-compatibilità con i browser meno recenti.
		Inoltre è stato evitato l'utilizzo di tabelle per realizzare il layout del sito.
		\item Per rendere accessibili i form, sono stati utilizzati i tag label, tab-index
		e title, assieme ad una gestione degli errori che comprende controlli di
		validità dell’input. La validazione è stata effettuata, in alcuni form, sia in JavaScript che in PHP. La validazione lato server è sempre presente.
	\end{itemize}
	\subsection{Tag WAI-ARIA}
	Sono stati utilizzati dei tag introdotti dalle specifiche WAI-ARIA che permettono
	di migliorare l'accessibilità per gli utenti che utilizzano uno screen reader.
	I tag aria hanno permesso di migliorare l'accessibilità del sito in particolare gli screen reader forniscono una lettura più accurata.
	\paragraph{Operazioni sui form}
		Per segnalare all'utente i vari esiti che hanno avuto le operazioni nel sistema sono stati realizzati dei div che vengono gestiti tramite PHP e/o JavaScript, a seconda che questo sia utilizzato o meno. Consapevoli dei problemi che conseguono con l'introduzione di messaggi interattivi, che possono eventualmente nascosti o essere aggiunti dinamicamente, si sono applicati i seguenti attributi ai contenitori:
		\begin{itemize}
			\item \texttt{aria-live="assertive"}: le tecnologie assistive (AT), come uno screen reader, notificano immediatamente all’utente la regione dichiarata assertive,
			in questo caso il div di errore verrà notificato e verranno letti gli errori,
			permettendo all’utente di correggere l’input.
			\item \texttt{aria-atomic="true"}: indica allo screen reader di leggere interamente la regione di errore e non solo i suoi cambiamenti. In questo modo se l’utente
			non ha corretto un errore segnalato in precedenza, questo viene notificato nuovamente.
			\item \texttt{role="alert"}: per segnalare appunto che si tratta di un messaggio interattivo, che è frutto di un'operazione eseguita dall'utente.
			\item \texttt{aria-relevant="all"}: attributo impiegato per segnalare la tipologia di cambiamenti che potrebbero avvenire all'interno del contenitore. In questo caso è settato ad all, poiché vogliamo che l'utente sia avvertito quando avvengono cambiamenti de testo.
		\end{itemize}
	\subsection{JavaScript}
	Il sito degrada correttamente nel caso il browser non permetta l’esecuzione di JavaScript.
	Nella parte pubblica del sito JavaScript è utilizzato per il menù mobile, per la validazione dei form e la conferma della cancellazione della gita. Nel caso non sia possibile controllare i campi compilati con JavaScript, allora saranno controllati dal server una volta che siano
	stati confermati dall’utente. JavaScript non è utilizzato per alterare pesantemente
	la struttura della pagina, se non nel caso della validazione dei form, in cui aggiunge opportuni messaggi d’errore. Nella homepage, se JavaScript viene disabilitato, il contenuto viene mostrato garantendo l'accesso ai contenuti. La disabilitazione di JS non pregiudica comunque l’utilizzo del sito.
	Segue una foto comparativa della pagina principale:
	\begin{figure}[H]
	\centering
	\includegraphics[scale=.4]{images/homejs.png}
	\caption{Pagina principale con JS abilitato dove il contenuto informativo è nascosto}
	\end{figure}
	\begin{figure}[H]
	\centering
	\includegraphics[scale=.4]{images/homenojs.png}
	\caption{Pagina principale con JS disabilitato dove il contenuto informativo è mostrato (inizio parte riquadrata in nero)}
	\end{figure}
	\subsection{Dispositivi}
	Nella progettazione si è tenuto conto del fatto che l'utenza avrebbe acceduto al
	sito da vari dispositivi. Alla luce di questa considerazione il sito adotta un layout responsive grazie alla creazione di file css appositi (mobile e stampa). Il sito è stato testato su più dispositivi, browser e sistemi operativi possibili in modo tale da avere un feedback più completo possibile sulle scelte adottate (Vedere la sezione Validazione e Test per i dettagli).


	\section{Suddivisione di struttura, presentazione e comportamento}
	I file relativi alla parte di amministrazione sono contenuti all'interno della cartella \texttt{admin}, mentre i file relativi alla parte pubblica sono nella cartella principale del sito. Tuttavia alcuni file sono necessari per entrambi le parti, ed in questo
	caso vi erano due alternative: duplicare i file e mantenere la massima indipendenza fra
	le parti, oppure tenere un unico file che si adatta a seconda del percorso da cui è incluso
	(ad esempio con un \texttt{<?php if ... ?>}). Abbiamo scelto di utilizzare l'una oppure l'altra strategia a seconda di quanto riteniamo probabile che una particolare funzionalità possa differire a seconda che sia utilizzata dall'amministratore, oppure da un utente standard: \begin{itemize}
		\item Pagina di accesso: per accedere al pannello di amministrazione bisogna effettuare il login con un account amministratore. Non abbiamo ritenuto necessario separare il login per gli admin dal login per i clienti, perché non abbiamo individuato ragioni valide per farlo, infatti entrambi gli utenti inseriscono i medesimi dati: nome utente e password.
		Pertanto, la procedura di login segue il seguente diagramma di attività:
		\begin{figure}[H]
		\centering
		\includegraphics[scale=0.5]{images/Login.png}
		\end{figure}
		\item Ricerca e visualizzazione dei risultati: anche in questo caso riteniamo possibile che vengano implementate funzionalità non utili ad entrambe le parti, ma solo ad una delle due.
		\item Menù di navigazione: il menù di navigazione per l'utente è diverso da quello dell'amministratore, e ciò viene gestito da	statement condizionali utilizzando la sintassi PHP che permette di utilizzare codice HTML senza fare ricorso al comando \texttt{echo}.
		\begin{lstlisting}
<?php if(condizione): ?>
//codice HTML
<?php endif; ?>
		\end{lstlisting}
		Inoltre, nel root del sito è presente una cartella \texttt{PHP} che contiene i file che definiscono le funzioni di backend per amministratore, utente e quelle generali ovvero condivise da entrambi, riducendo così la duplicazione del codice.
	\end{itemize}
	\subsection{Parte utente}
	\subsubsection{Struttura}
	Consiste nell'insieme delle pagine del sito accessibili a tutti gli utenti. 
	\begin{itemize}
		\item Home (index.php): contiene una sezione introduttiva che spiega in che tipo di
		sito ci si trova e che tipo di informazioni contiene. Sono presenti inoltre 3 mini-sezioni, Storia Clima e Geografia, espandibili attraverso i bottoni "Scopri di più" predisposti.
		\item Luoghi (luoghi/): contiene le pagine relative ai luoghi turistici più importanti dei Colli Euganei, approfonditamente descritti ed accompagnati da immagini simboliche.
		\item Gite (gite.php): è la pagina dedicata alla prenotazione delle gite. Tutte le gite hanno un nome, una descrizione, l'ora e il giorno della visita turistica e un costo. Solo un utente autenticato (e quindi registrato) può effettuare la prenotazione. Se non si è autenticati, la pagina rimanda l'utente al form di login attraverso un link ben segnalato. Un utente può prenotare più di una gita.
		\begin{figure}[H]
		\centering
		\includegraphics[scale=0.8]{images/Trip.png}
		\end{figure}
		\item Accedi (login.php): questa pagina contiene il form di login in cui ogni utente può accedere al proprio account per prenotare una gita. Anche gli amministratori possono effettuare l'accesso da questa pagina per il loro account utente.
		\begin{itemize}
				\item Registrazione (Registrazione.php): se l'utente non è registrato al sito, attraverso il link presente alla fine del forum, viene reindirizzato alla pagina di registrazione.
		\end{itemize}
		\item Registrazione (Registrazione.php): qui un nuovo utente può registrarsi al sito.
		\item Account: una volta loggato, qui l'utente può amministrare il suo account. \'E presente un dropdown menù con tre voci: \begin{itemize}
			\item Impostazioni: questa pagina permette di modificare i dati del proprio account (view-account.php)
			\item Le mie gite (view-my-trip.php): questa pagina permette di vedere le gite prenotate fino a quel momento
			\item Logout (logout.php): per effettuare il logout.
		\end{itemize}
	\end{itemize}
	\subsubsection{Presentazione}
	La presentazione della pagina é realizzata tramite file css, il principale é
	"style.css", che viene utilizzata per ogni pagina.
	In caso di dispositivo mobile viene utilizzato uno stile extra, ovvero "mobile", che ha il compito di far cambiare la presentazione
	della pagina per meglio adattarla a schermi di dimensioni inferiori.
	Per quanto riguarda la stampa è stato creato un nuovo foglio di stile, chiamato "print", che rimuove tutti i contenuti non necessari e impagina le informazioni per meglio adattarle a un foglio A4.
	Si è fatto, ovviamente uso di media query all'interno dei fogli di stile,
	si sono realizzati tre breakpoint e si è cercato di \textbf{abolire l'utilizzo dei pixel}, come unità di misura all'interno dei CSS, in favore di em e wv, che permette di adattare la dimensione a seconda del dispositivo a discapito di un minor controllo sul layout fornito dai pixel.
	In particolare per favorire un layout responsive abbiamo cercato di fare ampio uso delle proprietà: max-width, min-width, max-height e min-height, insieme alle unità di misura sopra indicate.

	\subsubsection{Comportamento}
	Il comportamento della pagina é stato gestito tramite JavaScript per il controllo dei form e la conferma della cancellazione di una prenotazione. Inoltre, index.php presenta alcune animazioni per far apparire del testo. Sono presenti anche controlli tramite codice PHP per garantire che il sito continui a funzionare correttamente anche in caso di assenza dell'interprete JavaScript.
Anche il bottone "back-to-top" che permette di tornare all'inizio della pagina è stato realizzato tramite un'ancora per garantire la migliore navigazione in qualsiasi circostanza.

	\subsection{Parte amministratore}

	\subsubsection{Struttura}
	\'E la sezione accessibile solamente agli utenti admin. Questi possono aggiungere, rimuovere e modificare gite, aggiungere e rimuovere utenti admin. Di seguito, una breve descrizione delle sezioni a cui ha accesso un amministratore del sito.
	\begin{itemize}
		\item Home: schermata di benvenuto con sintetico riepilogo delle funzionalità offerte all'amministratore.
		\item Gestione gite: è un dropdown menù con 3 voci:
		\begin{itemize}
			\item Aggiungi nuova gita: impiegata per inserire una nuova gita
			\item Modifica dati gita: impiegata per modificare i dati di una determinata gita
			\item Rimuovi gita: impiegata per rimuovere una gita
		\end{itemize}
		\item Account: qui l'utente può amministrare il suo account. \'E presente un dropdown menù con tre voci:
		 \begin{itemize}
			\item Impostazioni: questa pagina permette di modificare i dati del proprio account (view-account.php).
			\item Logout (logout.php): per effettuare il logout.
		\end{itemize}
	\end{itemize}
	\subsubsection{Presentazione}
	Lo stile delle pagine per l'amministrazione differisce di poco rispetto alla parte utente, in quanto dal lato amministratore sono stati solamente rimossi alcuni elementi inutili, come le pagine dei luoghi, in modo da renderla più veloce e fare spazio alle utilità necessarie all'amministrazione del sito.
	Unificare la grafica tra utente e amministratore permette a quest'ultimo di non avere difficoltà nell'uso dell'applicativo in quanto le parti sono sempre facilmente identificabili, inoltre permette agli sviluppatori una facile manutenzione in futuro.


	\subsubsection{Comportamento}
	Per l'amministratore il comportamento è gestito prevalentemente da php. Tutto il codice relativo all’esecuzione di azioni è stato completamente
	diviso da quello utilizzato per la visualizzazione dei contenuti, questo consente di ridurre la duplicazione del codice e di ottenere pagine più leggere con un conseguente incremento di prestazioni.
	\chapter{Validazione e test}
	\section{Validazione con test automatici}
	\subsection{Markup Validation Service w3.org}
	La validazione tramite il servizio W3C ha esito positivo su tutto il sito.
	\subsection{W3C CSS Validator w3.org} La validazione tramite il servizio W3C ha esito positivo su tutto il sito eccetto per \texttt{Safari} ed è per questo motivo che viene segnalato il warning dal validatore. Infatti non sono state utilizzate le regole web-kit del browser in quando non venivano validate, poiché non sono specificate dallo standard W3C.
	\subsection{Vamola validator e Web Accessibility Toolbar (WAT)}
	Per la verifica automatica dell'accessibilità sono stati utilizzati due strumenti: \begin{itemize}
		\item Vamola, presente all'indirizzo \\ \url{www.validatore.it/vamola_validator/checker/
			index.php}
		\item WAT, purtroppo questo plugin non è aggiornato e presenta molti strumenti inutilizzabili.	La versione corrente è stata scaricata da:
		\url{https://github.com/ThePacielloGroup/WebAccessibilityToolbar}.
		\item WCAG Contrast Checker, plugin per Google Chrome utilizzato per verificare che il contrasto dei colori avesse valore almeno "AA"
	\end{itemize}
	Come impostazione è stato utilizzato "WCAG 2.0 (Level AA)" in tutti i validatori, e tutti i	potenziali problemi che vengono segnalati raccolgono tutti elementi che il validatore non sa come controllare e quindi viene richiesta una supervisione umana, come ad esempio ogni \texttt{alt}. \\
	Nessun errore è stato rilevato.
	\subsection{WAVE Accessibility Extension}
	Un altro strumento utilizzato per la verifica dell'accessibilità è stato WAVE,
	disponibile per il browser Firefox all'indirizzo \\ \url{https://addons.mozilla.
	org/it/firefox/addon/wave-accessibility-tool}. \\
	Il plugin ha segnalato alcuni warning riguardanti gli alt, che richiedevano un controllo manuale e quindi  una supervisione umana e nessun errore di controllo di contrasto dei colori.

	\subsection{AChecker}
	Un altro strumento utilizzato per la verifica automatica dell'accessibilità è \texttt{AChecker}, \url{https://achecker.ca/checker/}. \\
	La validazione tramite questo servizio ha avuto esito positivo su tutto il sito.

	\subsection{Total Validator}
	Abbiamo utilizzato Total Validator Basic per validare ogni pagina. Gli errori incontrati sono stati risolti, ma rimane un warning sollevato in ogni pagina  e riguardante il link interno per saltare al contenuto, precisamente "W874 Add a skip navigation link as the  rst link on the page", che viene sollevato in quanto il testo non  e "Skip to main content", bensì "Vai al contenuto", in quanto il sito  e mirato ad utenti italiani. Da precisare che oltre alla presenza del link per andare al contenuto  e disponibile anche un link per tornare ad inizio pagina, inserito per facilitare la navigazione da dispositivi tascabili. Un altro warning presente è in riferimento all'immagine della tabella nella sezione geografia che presenta l'attributo alt vuoto, questo perchè l'informazione contenuta nella tabella è in realtà presente integralmente nel testo.

	\section{Test su diversi dispositivi}
	Il sito è stato testato su varie macchine e sistemi operativi. Nelle sezioni seguenti verranno elencati assieme ai browser e alle risoluzioni testate.
	\subsection{Windows 10}
	Sono state testate le risoluzioni di 1080p e 2160p con i browsers:
	\begin{itemize}
		\item Mozilla Firefox
		\item Google Chrome
		\item Edge
		\item Internet Explorer 11
		\item Lynx
	\end{itemize}
	Con tutti i browser utilizzati per testare

	\subsection{GNU/Linux Manjaro}
	Sono state testate le risoluzioni di 1080p e 2160p con i browsers:
	\begin{itemize}
		\item Firefox Quantum
		\item Google Chrome
		\item Firefox
		\item Lynx
	\end{itemize}

	\subsection{MacOS}
	Sono state testate le risoluzioni di 1080p, 2160p con i browsers:
	\begin{itemize}
		\item Safari
		\item Firefox Quantum
		\item Google Chrome
	\end{itemize}

	\subsection{Dispositivi mobili}
	Di seguito sono elencati i vari dispositivi mobili sui quali il sito è stato testato
	\begin{itemize}
		\item Honor 9 con browser Chrome, con una risoluzione di 720p.
		\item Samsung Galaxy Tab 3 con una risoluzione di 1280x800 e con il browser fornito di default.
		\item Nexus 5x su browser Chrome, con una risoluzione di 1080p
	\end{itemize}
	In tutti i dispositivi testati il sito si adatta perfettamente alla risoluzione dello schermo e non si sono presentati problemi di compatibilità, neppure con JavaScript.

	\section{Test tramite browser testuale Lynx}
	Il sito è stato testato con il browser Lynx, nonostante le difficoltà d'uso di un browser testuale, il sito risulta navigabile e le informazioni sono presentate in modo chiaro e ordinato.
	\begin{figure}[H]
		\centering
		\includegraphics[width=1\linewidth]{images/lynx.png}
		\caption{Esempio di pagina del sito web su Lynx}
	\end{figure}

	\section{Test con diverse impostazioni utente}
	Il sito è stato testato con diverse impostazioni utente abbiamo effettuato test su dispositivi con risoluzioni che vanno dal 600p al 2160p, test di visualizzazione del sito con dimensioni del testo che vanno 16pt a 44pt e visualizzato il sito con zoom fino al 300\%, in ogni caso il sito è risultato fruibile e navigabile.\\
	Inoltre, si è presa in considerazione l'eventualità che l'utente non disponga o non abiliti JavaScript: il sito risulta comunque navigabile e le sue funzionalità sono inalterate. \pagebreak

	\chapter{Funzionalit\`{a} desiderabili}
	\section{Descrizione della sezione}
	Nella seguente sezione verranno illustrate le funzionalità che nel caso di un progetto reale verrebbero inseriti ma che in questo caso non sono stati inclusi vista l'eccessiva complessità di alcuni rapportata allo scopo e al tempo previsto per questo progetto.

	\section{Pagine social network di supporto al sito}
	Nella maggior parte dei siti moderni è presente un qualche collegamento a pagina nei social network, nel nostro caso non è stata ritenuto un impiego di tempo produttivo per gli scopi del progetto andare a creare queste pagine social visto che poi si sarebbe trattato di inserire i link a queste nel sito.

	\section{Possibilità di gestire i diversi tipi di proponenti delle gite}
	Introducendo un sistema più complesso è possibile inserire all'interno del sito anche la possibilità di permettere ai vari enti di creare i loro eventi e di ottenere le liste degli utenti che hanno aderito alle iniziative.

	\section{Integrare un sistema di pagamento automatico}
	Il pagamento all'interno dell'applicativo non viene gestito delegandolo quindi all'utente che ha organizzato l'attività. Sarebbe opportuno inserire un sistema di pagamento elettronico, magari integrandolo con un servizio di fatturazione elettronica in modo che l'utente scarichi direttamente la fattura.
	
		\section{Supporto multilingua}
	Il contenuto informativo potrebbe essere tradotto in più lingue per permettere ad utenti anche stranieri di usufruire del contenuto informativo del sito, permettendogli di prenotare selezionando una guida nella loro lingua madre.

	\chapter{Suddivisione del lavoro}
	\section{Suddivisione per membro del gruppo}
	\subsection{Piva Giulio - Matricola 1146135}
	\begin{itemize}
		\item Realizzazione di CSS
		\item Creazione classe DBConnection 
		\item JavaScript per i form e per la gestione dell'index
		\item Registrazione e pannello utente
		\item Stesura di alcune pagine dei luoghi
		
	\end{itemize}
	\subsection{Magarotto Francesco - Matricola 1143292}
	\begin{itemize}
		\item Realizzazione di CSS (mobile 600px, 768px)
		\item Realizzazione amministrazione
		\item Realizzazione di alcune pagine statiche informative come la homepage
		\item Stesura pagine elenco gite, funzione di ricerca e prenotazione
	\end{itemize}
	\subsection{Marco Costantino - 1144120}
	\begin{itemize}
		\item Login e funzioni per il database
		\item Codice HTML e PHP per le prenotazioni
		\item Test e Validazioni
	\end{itemize}
	\subsection{Davide Zilio - 1149807}
	\begin{itemize}
		\item Realizzazione di CSS
		\item Accessibilità del sito
		\item Alcune funzioni jQuery
		\item Pagina delle gite
		\item Stesura di alcune pagine dei luoghi
	\end{itemize}

\end{document}
