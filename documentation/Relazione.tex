\documentclass[openany, a4paper, 12pt]{report}
\usepackage[utf8]{inputenc}
\usepackage{color}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{float}

\hypersetup {
	linkcolor = {black},
	urlcolor = {blue},
	menucolor = {black},
	colorlinks = true,
}

\begin{document}

	\begin{titlepage}
		\centering
		\vfill
		{
			\bfseries
			\vskip2cm
			\Large Università di Padova\\
			\vfill
			\Huge ColliDigitali\\
			\Large Progetto per il corso di tecnologie web\\
			\vfill

			\begin{figure}[H]
				\centering
				\includegraphics[width=0.6\linewidth]{images/LogoPadova}
			\end{figure}
			\large GiulioPiva - 1146135 \\ Magarotto Francesco -  \\ Zilio Davide-  \\
			Costantino-Marco
			\vfill
			Sito web hostato all'indirizzo: \url{http://tecweb1617.studenti.math.unipd.it/mcailott}\\
			{\small Credenziali per l'amministrazione:\\username: admin, password: admin\\}
			\vfill
			Indirizzo email del referente: mirco.cailotto.1@studenti.unipd.it\\
			\vfill
		}
	\end{titlepage}
	\pagenumbering{roman}
	\tableofcontents
	\newpage
	\pagenumbering{arabic}

	% Il progetto deve essere accompagnato da una relazione che ne illustri le fasi di progettazione, realizzazione e test ed evidenzi chiaramente il ruolo svolto dai singoli componenti del gruppo. Ricordo che il numero “ideale” di componenti per gruppo è di 3-4 persone. In casi particolari (da concordare col responsabile del corso, Prof. Lamberto Ballan) possono essere costituiti gruppi di 2 persone.

	% Nella relazione deve essere riportata una analisi iniziale delle caratteristiche degli utenti che il sito si propone di raggiungere. Le pagine web devono essere accessibili indipendentemente dal browser e dalle dimensioni dello schermo del dispositivo degli utenti. Considerazioni riguardanti diversi dispositivi (laddove possibile) verranno valutate positivamente.

	% La relazione deve contenere in prima pagina:
	%indirizzo web del sito;
	%eventuali password degli utenti da utilizzare in fase di correzione (una coppia login-password per ogni classe di utenza), in particolare:
	%l'utente amministratore, se presente, deve avere login e password uguali ad admin;
	%l'utente semplice, se presente, deve avere login e password uguali ad user;
	%indirizzo email del referente del gruppo per eventuali comunicazioni;
	%i file PHP devono avere i permessi corretti;
	%il sito deve utilizzare link relativi in modo da poter essere facilmente installato anche su server o cartelle diverse (se l'installazione necessita di operazioni particolari queste devono essere indicate chiaramente in relazione).

	\chapter{Abstract}
	%Scrivere qui un abstract del sito

	\chapter{Installazione}
	Il sito richiede un database MySql, per la creazione delle tabelle utilizzate si possono usare i due file .sql allegati, "database.sql" e "database vuoto.sql", che generano rispettivamente il database con tutti i dati inseriti nel sito web consegnato e un database con le tabelle vuote, con solo l'amministratore presente, le cui credenziali sono admin:admin.\\
	Successivamente si dovrà modificare il file dbConnection.php, presente nella root del sito, indicando i dati per l'accesso al database (HOST\_DB, USER, PASSWD, DATABASE) e la pagina di errore dove ridirigere l'utente in caso di errore nel database  (\$connectionErrorPage).\\


	\chapter{Progettazione}

	\section{Analisi della classe di utenza}
	\subsection{Descrizione della sezione}
	Questa sezione si pone come obiettivo l'analisi di tutte le tipologie di utenti che potrebbero essere interessate alla navigazione sul sito web, ponendo particolare attenzione alle informazioni che questi sono interessati a trovare.
	\subsection{Analisi dell'utenza}
	Il sito si rivolge principalmente ad un pubblico adulto o di giovani adulti poichè questo è il target in grado di effettuare prenotazioni per gite e/o visite guidate. La grafica del sito, quindi, cerca di essere minimalista e poichè il sito ha anche funzione informativa, il linguaggio usato è semplice per permetterne
	la fruibilità a chiunque e per andare in contro all'esperienza mobile che è per sua natura più leggera.
	\subsubsection{Utente che cerca informazioni riguardanti i colli euganei}
	Seguendo la filosofia dell'informazione accessibile a tutti, il sito è stato pensato per essere intuitivo da navigare e i contenuti sono stati esposti in un linguaggio semplice nei limiti della specificità imposta dai contenuti stessi.
	\subsubsection{Utente che cerca gite organizzate per i colli euganei}
	L'intento del sito è quello di fornire una procedura di prenotazione delle gite il quanto più semplice e leggera possibile.


	\section{Progettazione della base informativa}
	Il sito web si pone l'obiettivo di veicolare diversi contenuti, alcuni statici ed altri dinamici.
	\subsection{Contenuti statici}
	\subsubsection{Home}
	%descrivere qui in breve la pagina
	\subsubsection{Luoghi}
	%descrivere in breve la pagina cosa visualizza

	\subsection{Contenuti dinamici}
	\subsubsection{Gite}
	%descrizione della pagina
	\subsubsection{Visualizzazione gite prenotate}


	\section{Strutturazione del sito}
	\subsection{Impaginazione}
	Il sito utlizza un layout a tre pannelli nella versione per dispositivi desktop.\\
	%descriverei tre div principali che abbiamo, ovvero header,content,footer

	\chapter{Realizzazione}
	In questa parte del documento si andranno ad approfondire tutti gli aspetti legati alla realizzazione del sito web.

	\section{Scelte tecniche}
	\subsection{XHTML1.0}
	Come linguaggio di marcatura si è scelto di utilizzare XHTML 1.0.
	\'E stata scelta questa tecnlogia perchè prevede un uso più restrittivo dei tag HTML mirato alla separazione tra elementi grafici del sito, specificati tramite fogli di stile esterni, e il layout della pagine. Un'altra ragione per la scelta di XHTML 1.0 risiede nella sua retrocompatibilità, nella sua diffusione e nella compatibilità con i browser più diffusi.
	\subsection{CSS3}
	I file necessari alla formattazione dello stile del sito e per i vari dispositivi sono collocati nella cartella \texttt{assets/css} mentre le immagini sono collocate nella 
	cartella \texttt{assets/img}.
	Il sito utilizza un foglio di stile principale, denominato \texttt{style.css}, e 3 fogli di stile secondari: \begin{itemize}
		\item mobile.css: utilizzato per adattare il sito a dispositivi più piccoli, quali tablet e smartphone
		\item print.css: utilizzato per la stampa, rimuove tutti i contenuti non necessari e impagina le informazioni per meglio adattarle a un foglio A4.
		\item form.css: è stato deciso di dedicare un file a parte per la grafica dei form, in modo da avantaggiarne lo sviluppo e la gestione.
	\end{itemize}
	\subsection{JavaScript}
	 I file contenenti gli script sono collocati nella cartella \texttt{js/}. \\
	 Si è scelto di utilizzare JavaScript come componente marginale del sito garan-
	 tendo, anche se disabilitato, che tutte le funzionalità rimangano accessibili e
	 perfettamente funzionanti. \\
	 Abbiamo deciso inoltre di utilizzare \texttt{JQuery} per la conferma della cancellazione delle gite perchè ...
	\subsection{PHP}
	\section{Suddivisione di struttura, presentazione e comportamento}
	I file relativi alla parte di amministrazione sono contenuti all'interno della cartella \texttt{admin/}, mentre i file relativi alla parte pubblica sono nella cartella principale del sito. Tuttavia alcuni file sono necessari per entrambi le parti, ed in questo
	caso vi erano due alternative: duplicare i file e mantenere la massima indipendenza fra
	le parti, oppure tenere un unico file che si adatta a seconda del percorso da cui è incluso
	(ad esempio con un \texttt{<?php if ... ?>}). Abbiamo scelto di utilizzare l'una oppure l'altra strategia a seconda di quanto riteniamo probabile che una particolare funzionalità possa differire a seconda che sia utilizzata dall'amministratore, oppure da un utente standard: \begin{itemize}
		\item Pagina di accesso: per accedere al pannello di amministrazione bisogna effettuare il login con un account amministratore. Non abbiamo ritenuto necessario separare il login per gli admin dal login per i clienti perchè non abbiamo individuato ragioni valide per farlo.
		\item Ricerca e visualizzazione dei risultati: anche in questo caso riteniamo possibile
		che vengano implementate funzionalità non utili ad entrambe le parti, ma solo ad
		una delle due.
		\item Menù di navigazione: il menù di navigazione per l'utente è diverso da quello dell'amministratore, e ciò viene gestito da	statement condizionali a cascata.
	\end{itemize}
	\subsection{Parte utente}
	\subsubsection{Struttura}
	Consiste nell'insieme delle pagine del sito accessibili a tutti gli utenti. \begin{itemize}
		\item Home (index.php): contiene una sezione introduttiva che spiega in che tipo di
		sito ci si trova e che tipo di informazioni contiene. Sono presenti inoltre 3 mini-sezioni, Storia Clima e Geografia, ampliabili attraverso i bottoni "Scopri di più" predisposti. 
		\item Luoghi (luoghi/): contiene le pagine relative ai luoghi turistici più importanti dei Colli Euganei, appronfonditamente descritti ed accompagnati da immagini simboliche.
		\item Gite (gite.php): è la pagina dedicata alla prenotazione delle gite. Tutte le gite hanno un nome, una descrizione, l'ora e il giorno della visita turistica e un costo. Solo un utente loggato (e quindi registrato) può effettuare la prenotazione. Se non si è loggati, la pagina rimanda l'utente al form di login attraverso un link ben segnalato. Un utente può prenotare più di una gita. 
		\item Accedi (login.php): questa pagina contiene il form di login in cui ogni utente può accedere al proprio account per prenotare una gita. Anche gli amministratori possono effettuare l'accesso da questa pagina per il loro account utente. \begin{itemize}
				\item Registrazione (Registrazione.php): se l'utente non è registrato al sito, attraverso il link presente alla fine del forum, viene reindirizzato alla pagina di registrazione.
		\end{itemize}
		\item Registrazione (Registrazione.php): qui un nuovo utente può registrarsi al sito.
		\item Account: una volta loggato, qui l'utente può amministrare il suo account. \'E presente un dropdown menù con tre voci: \begin{itemize}
			\item Impostazioni: questa pagina permette di modificare i dati del proprio account (view-account.php)
			\item Le mie gite (view-my-trip.php): questa pagina permette di vedere le gite prenotate fino a quel momento 
			\item Logout (logout.php): per effettuare il logout.
		\end{itemize}
	\end{itemize}
	\subsubsection{Presentazione}
	La presentazione della pagina è realizzata tramite file css, il principale è
	"style", che viene utilizzata per ogni pagina.
	In caso di dispositivo mobile viene utilizzato uno stile extra, ovvero "mobile", che ha il compito di far cambiare la presentazione
	della pagina per meglio adattarla a schermi di dimensioni inferiori.
	

	\subsubsection{Comportamento}
	Il comportamento della pagina è stato gestito tramite JavaScript per il con-
	trollo delle form e la conferma della cancellazione di una prenotazione. Sono presenti anche controlli tramite codice PHP per garantire che il sito continui a funzionare corretamente anche in caso di assenza dell’interprete JavaScript.
	

	\subsection{Parte amministratore}

	\subsubsection{Struttura}
	\'E la sezione accessibile solamente agli utenti admin. Gli admin possono aggiungere, rimuovere e modificare gite ed aggiungere e rimuovere utenti admin. Di seguito, una breve descrizione delle sezioni a cui ha accesso un amministratore del sito. \begin{itemize}
		\item Home: schermata di benvenuto con sintetico riepilogo delle funzionalità offerte all'amministratore.
		\item Gestione gite: è un dropdown menù con 3 voci:
		\begin{itemize}
			\item Aggiungi nuova gita: serve per inserire una nuova gita
			\item Modifica dati gita: serve per modificare i dati di una determinata gita
			\item Rimuovi gita: serve per rimuovere una gita
		\end{itemize}
		\item Account: qui l'utente può amministrare il suo account. \'E presente un dropdown menù con tre voci: \begin{itemize}
			\item Impostazioni: questa pagina permette di modificare i dati del proprio account (view-account.php)
			\item Le mie gite (view-my-trip.php): questa pagina permette di vedere le gite prenotate fino a quel momento 
			\item Logout (logout.php): per effettuare il logout.
		\end{itemize}
	\end{itemize}
	\subsubsection{Presentazione}
	Lo stile delle pagine per l'amministrazione differisce di poco rispetto alla parte utente, in quanto dal lato amministratore sono stati solamente rimossi alcuni elementi inutili, come le pagine dei luoghi, in modo da renderla più veloce e fare spazio alle utilità necessarie all'amministrazione del sito.
	
	\subsubsection{Comportamento}


	\chapter{Validazione e test}
	\section{Validazione con test automatici}
	\subsection{Markup Validation Service w3.org}
	La validazione tramite il servizio w3c ha esito positivo su tutto il sito.
	\subsection{W3C CSS Validator w3.org} La validazione tramite il servizio w3c ha esito positivo su tutto il sito eccetto per \texttt{Safari} ed è per questo motivo che viene segnalato il warning dal validatore.
	\subsection{Vamola validator e Web Accessibility Toolbar (WAT)}
	Per la verifica automatica dell'accessibilità sono stati utilizzati due strumenti: \begin{itemize}
		\item Vamola, presente all'indirizzo \\ \url{www.validatore.it/vamola_validator/checker/
			index.php}
		\item WAT, purtroppo questo plugin non è aggiornato e presenta molti strumenti inutilizzabili.	La versione corrente è stata scaricata da:
		\url{https://github.com/ThePacielloGroup/WebAccessibilityToolbar}.
	\end{itemize}
	Come impostazione è stato utilizzato "WCAG 2.0 (Level AAA)" in entrambi i validatori, e tutti i	potenziali problemi che vengono segnalati raccolgono tutti elementi che il
	validatore non sa come controllare e quindi viene richiesta una supervisione umana, come ad esempio ogni \texttt{alt}. \\
	Nessun errore è stato rilevato.
	\subsection{WAVE Accessibility Extension}
	Un altro strumento utilizzato per la verifica dell'accessibilità è stato WAVE,
	disponibile per il browser Firefox all'indirizzo \\ \url{https://addons.mozilla.
	org/it/firefox/addon/wave-accessibility-tool}. \\
	Il plugin ha segnalato alcuni warning riguardanti gli alt, che richiedevano un
	controllo manuale e quindi  una supervisione umana.
	\subsection{Web Accessibility Toolbar (WAT)}

	\subsection{Total Validator}
	Abbiamo utilizzato Total Validator Basic per validare ogni pagina. Gli errori incontrati sono stati risolti, ma rimane un warning sollevato in ogni pagina  e riguardante il link interno per saltare al contenuto, precisamente "W874 Add a skip navigation link as the  rst link on the page", che viene sollevato in quanto il testo non  e "Skip to main content", bensì "Vai al contenuto", in quanto il sito  e mirato ad utenti italiani. Da precisare che oltre alla presenza del link per andare al contenuto  e disponibile anche un link per tornare ad inizio pagina, inserito per facilitare la navigazione da dispositivi tascabili. Un altro warning presente è in riferimento all'immagine della tabella nella sezione geografia che presenta l'attributo alt vuoto, questo perchè l'informazione contenuta nella tabella è in realtà presente integralmente nel testo.

	\section{Test su diversi dispositivi}
	Il sito è stato testato su varie macchine e sistemi operativi. Nelle sezioni seguenti verranno elencati assieme ai browser e alle risoluzioni testate.
	\subsection{Windows 10}
	Sono state testate le risoluzioni di 1080p e 2160p con i browsers:
	\begin{itemize}
		\item Chromium 64
		\item Google Chrome
		\item Edge
		\item Internet Explorer 11
		\item Firefox Quantum
		\item Waterfox 57
		\item Firefox Nightly 60a1
		\item Mozilla Firefox 3
		\item Netscape 7
	\end{itemize}
	Si è notato che Mozilla Firefox 3 utilizza una dimensione errata dell'immagine nella testata. Questo aspetto rovina leggermente il rendimento grafico ma non ne compromette le funzionalità, in quanto tutti i contenuti risultano perfettamente fruibili dall'utente.\\
	Un Secondo appunto riguardante Firefox 3 è l'incompatibilità con parte del codice JavaScript: solamente il controllo della compilazione dei campi di testo funziona correttamente.\\
	Internet Explorer 11, con la modalità Explorer 9, non genera nessun problema, ed anche il problema della dimensione della testata riscontrato su Firefox 3 è assente.\\
	Internet Explorer 5, 7 ed 8 non supportano il MIME xhtml+xml, quindi il sito non viene visualizzato ma ne viene proposto il download. Nel caso venga incorrettamente settato il MIME html allora il sito funziona perfettamente sulla versione 7 ed 8 del browser, compresa la visualizzazione del tag Ruby. In questo caso alcune funzionalità JavaScript ed alcune proprietà CSS non vengono riconosciute ma questo non compromette l'utilizzo del sito.\\
	Con Microsoft Edge 16 (ultima versione) non sono stati riscontrati problemi. \\
	Non sono stati rilevati ulteriori problemi o incompatibilità con i browser sopra menzionati ad esclusione di Netscape, anche variando la grandezza del font, dello zoom della pagina, della dimensione della finestra e disattivando JavaScript.\\
	Il sito è stato provato anche su Netscape 7, soprattutto per soddisfare una curiosità personale e per comprendere meglio l'evoluzione dello sviluppo dei siti web negli anni. Il risultato è ovviamente insoddisfacente, i tag div e p sono visualizzati erroneamente, moltissime proprietà css non sono correttamente riconosciute dal browser e soprattutto le mediaquery non sono supportate, facendo caricare al sito la versione mobile.\\
	Ovviamente non sono stati presi provvedimenti per migliorare la situazione con Netscape, in quanto il software è datato al 2002 e non è più in uso in nessun ambito.

	\subsection{GNU/Linux Fedora 27}
	Sono state testate le risoluzioni di 1800p e 2160p con i browsers:
	\begin{itemize}
		\item Firefox Quantum
		\item Google Chrome
		\item Firefox 56
		\item Lynx
	\end{itemize}
	Durante la fase di test su questa piattaforma non sono emerse problematiche a livello di compatibilità o visibilità nonstante le alte risoluzioni. Inoltre su questa piattaforma è stata testata la leggibilità del sito con l'utilizzo del browser cli Lynx.

	\subsection{MacOS High Sierra}
	Sono state testate le risoluzioni di 1800p, 2160p e 2880x1800p con i browsers:
	\begin{itemize}
		\item Safari 11.0.2
		\item Firefox Quantum
		\item Google Chrome
	\end{itemize}
	Durante la fase di test su piattaforma MacOS non è emersa alcuna problematica per quanto riguarda visibilità e compatibilità. Il sito viene visualizzato correttamente in tutti e tre i browser provati, nonostante le alte risoluzioni dei display utilizzati.

	\subsection{FreeBSD 11}
	\`{E} stata testata la risoluzione 1080p sui seguenti browsers:
	\begin{itemize}
		\item Firefox Quantum
		\item Lynx
		\item Lynx da CLI
	\end{itemize}
	Il sito è stato testato con il browser Lynx utilizzando la console senza x11 o Wayland, quindi da terminale/CLI, e con x11, quindi da una finestra di emulazione del terminale di dimensione variabile.\\
	In entrambi i casi il contenuto era fruibile.

	\subsection{Dispositivi mobili}
	Di seguito sono elencati i vari dispositivi mobili sui quali il sito è stato testato
	\begin{itemize}
		\item Honor 9 con browser Chrome, con una risoluzione di 720p
		\item Samsung Galaxy Tab 3 con una risoluzione di 1280x800 e con il browser fornito di default
		\item Nexus 5x su browser Chrome, con una risoluzione di 1080p
	\end{itemize}
	In tutti i dispositivi testati il sito si adatta perfettamente alla risoluzione dello schermo e non sono presenti problemi di compatibilità, neppure con JavaScript.

	\section{Test con diverse impostazioni utente}
	Il sito è stato testato con multiple impostazioni utente, come citato nella sezione riguardante le piattaforme di testing sono state testate risoluzioni che vanno dall 600p al 2160p senza presentare problemi di visualizzazione. Oltre al test per le varie risoluzioni e dispositivi si è testata la visualizzazione del sito con dimensioni del testo di che vanno 16pt a 44pt e con uno zoom elevato mantenendo comunque una buona fruibilità del sito.\\
	\`{E} stata presa in considerazione anche la possibilità che un utente abbia bloccato, oppure non abbia la possibilita se pur remota di non poter eseguire Javascript, e nonostante questo il sito rimane comunque egualmente navigabile in tutte le sue parti, senza far trasparire in modo palese la mancanza di Javascript. \pagebreak

	\section{Lynx e come potrebbe essere se letto}
	Il sito è stato testato con il browser Lynx, nonostante la visualizzazione solo testuale il sito rimane comunque navigabile seppur non in modo agevole se non si è abituati al utilizzo dei browser testuali.
	\begin{figure}[H]
		\centering
		\includegraphics[width=1\linewidth]{images/lynx.png}
		\caption{Esempio di pagina del sito web su Lynx}
	\end{figure}

	\chapter{Funzionalit\`{a} desiderabili}
	\section{Descrizione della sezione}
	Nella seguente sezione verranno illustrate le funzionalità che nel caso di un progetto reale verrebbero inseriti ma che in questo caso non sono stati inclusi vista l'eccessiva complessita di alcuni rapportata allo scopo e al tempo previsto per questo progetto.

	\section{Pagine social network di supporto al sito}
	Nella maggior parte dei siti moderni è presente un qualche collegamento a pagina nei social network, nel nostro caso non è stata ritenito un impiego di tempo produttivo per gli scopi del progetto andare a creare queste pagine social visto che poi si sarebbe trattato di inserire i link a queste nel sito, nel nostro caso sarebbero stati inseriti nella sidebar assieme ai feed rss.

	\section{Editor HTML per gli amministratori}
	La possibilità della realizzazione di un editor HTML come quelli presenti all'interno dei CMS è stata esclusa visto il tempo che sarebbe stato necessario per realizzarlo che sarebbe stato eccessivo. Comunque nonstante non sia stato sviluppato si ritiene che l'implementazione di un editor di questo per la parte di amministrazione renderebbe molto più efficace la gestione delle funzionalità che richiedono di manipolare testo che poi verra inserito nel database come blocchi di codice html.

	\section{Image picker}
	Una ultima funzione avanzata che migliorerebbe l'utilizzo del sito da parte dell'amministratore, che si collega all'editor HTML, sarebbe quella di poter selezionare una immagine da inserire in un articolo direttamente dalla galleria delle immagini, o caricarla al momento all'interno della galleria, senza la necessità di spostarsi sulla sezione immagini, caricarla, copiare il link, tornare alla notizia che stava inserendo e compilando il tag html per l'inserimento dell'immagine.



	\chapter{Suddivisione del lavoro}
	\section{Suddivisione per membro del gruppo}
	\subsection{Piva Giulio - Matricola 1146135}
	\begin{itemize}
		\item ciao
	\end{itemize}
	\subsection{Magarotto Francesco - Matricola}
	\begin{itemize}
		\item ciao
	\end{itemize}
	\subsection{Marco Costantino - 1144120}
	\begin{itemize}
		\item Progettazione dell'aspetto visivo delle pagine: XHTML e CSS3 
		\item Accessibilità del sito
	\end{itemize}
	\subsection{Davide Zilio - 1149807 }
	\begin{itemize}
		\item Progettazione dell'aspetto visivo delle pagine: XHTML e CSS3 
		\item Accessibilità del sito
	\end{itemize}

\end{document}
